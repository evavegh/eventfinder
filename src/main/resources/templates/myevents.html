<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:include="layout :: page">
<head>
<title th:fragment="title">Events</title>
<script src="content-script.js"></script>
</head>
<body>
	<section th:fragment="content" class="col-sm-10">
		<script>
			page = "myevents";

			function showDeleteConfirm(eventId) {
				$('#eventId').val(eventId);
				$('#delete').modal('show');
			}
		</script>

		<div class="modal fade" id="delete" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<form th:action="@{/delete}" method="post">
						<input type="hidden" id="eventId" name="eventId" />
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								<span class="glyphicon glyphicon-remove"></span>
							</button>
							<h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
						</div>
						<div class="modal-body">
							<div class="alert alert-danger">Are you sure you want to
								delete this event?</div>
						</div>
						<div class="modal-footer ">
							<button type="submit" class="btn btn-success">Yes</button>
							<button type="button" class="btn btn-default"
								data-dismiss="modal" onclick="return false;">Â No</button>
						</div>
					</form>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>

		<h2>Events</h2>
		<br></br>
		<a th:href="@{/add}" role="button" class="btn btn-success pull-right">
			New event
		</a>
		<br></br>
		
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Name</th>
					<th>Date</th>
					<th>Location</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="event : ${events}">
					<td th:text="${event.name}">Name</td>
					<td th:text="${event.startsAt}">Date</td>
					<td th:text="${event.location.name}">Location</td>
					<td>
<!-- 						<button type="button" class="btn btn-warning"> -->
<!-- 							<span class="glyphicon glyphicon-pencil"></span> -->
<!-- 						</button> -->
						
						<a th:href="@{'/edit/'} + ${event.id}" role="button" class="btn btn-warning">
							<span class="glyphicon glyphicon-pencil"></span>
						</a>

						<button type="button" class="btn btn-danger btn-delete"
							th:onclick="${'showDeleteConfirm(' + event.id + ')'}">
							<span class="glyphicon glyphicon-trash"></span>
						</button>
					</td>
				</tr>
			</tbody>
		</table>


	</section>

</body>
</html>